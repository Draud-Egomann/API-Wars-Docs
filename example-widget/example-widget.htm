<!DOCTYPE html>
<html lang="en" data-lt-installed="true"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="http://192.168.100.13:2000/vite.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>theship cockpit</title>
    <script type="module" crossorigin="" src="24234234234theship%20cockpit-Dateien/index-e269276f.js"></script>
    <link rel="stylesheet" href="24234234234theship%20cockpit-Dateien/index-584673a8.css">
  </head>
  <body>
    <div id="app"><h1>The Ship - Documentation</h1><a href="http://192.168.100.13:2000/">home</a><h2>Documentation</h2><div class="documentation"><pre><div style="color: black; background: rgb(245, 242, 240); text-shadow: white 0px 1px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto;"><code class="language-python" style="color: black; background: none; text-shadow: white 0px 1px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token" style="color: slategray;">#!/usr/bin/python3</span><span>
</span><span></span><span class="token" style="color: rgb(0, 119, 170);">import</span><span> socket
</span><span></span><span class="token" style="color: rgb(0, 119, 170);">import</span><span> os
</span><span></span><span class="token" style="color: rgb(0, 119, 170);">import</span><span> json
</span>
<span></span><span class="token" style="color: rgb(0, 119, 170);">with</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">open</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span>__file__</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'r'</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span> </span><span class="token" style="color: rgb(0, 119, 170);">as</span><span> f</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span>
</span><span>    this_file </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span><span> f</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>read</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>doc </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'```python\n'</span><span> </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">+</span><span> this_file </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">+</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'\n```'</span><span>
</span>
<span></span><span class="token" style="color: slategray;">#https://realpython.com/python-sockets/</span><span>
</span><span></span><span class="token" style="color: rgb(0, 119, 170);">with</span><span> socket</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>socket</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span>socket</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>AF_INET</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span> socket</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>SOCK_STREAM</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span> </span><span class="token" style="color: rgb(0, 119, 170);">as</span><span> s</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span>
</span><span>    s</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>connect</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span>os</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>environ</span><span class="token" style="color: rgb(153, 153, 153);">[</span><span class="token" style="color: rgb(102, 153, 0);">'K8S_HOST'</span><span class="token" style="color: rgb(153, 153, 153);">]</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span> </span><span class="token" style="color: rgb(153, 0, 85);">2002</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>    s</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>sendall</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span>
</span><span>        json</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>dumps</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span>
</span><span>            </span><span class="token" style="color: rgb(153, 153, 153);">{</span><span>
</span><span>                </span><span class="token" style="color: rgb(102, 153, 0);">'kind'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'update_widget'</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>                </span><span class="token" style="color: rgb(102, 153, 0);">'widget'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(153, 153, 153);">{</span><span>
</span><span>                    </span><span class="token" style="color: rgb(102, 153, 0);">'title'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'Example widget'</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>                    </span><span class="token" style="color: rgb(102, 153, 0);">'group'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'auxiliary'</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>                    </span><span class="token" style="color: rgb(102, 153, 0);">'width'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(153, 0, 85);">2</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>                    </span><span class="token" style="color: rgb(102, 153, 0);">'height'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(153, 0, 85);">2</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>                    </span><span class="token" style="color: rgb(102, 153, 0);">'content'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(153, 153, 153);">{</span><span>
</span><span>                        </span><span class="token" style="color: rgb(102, 153, 0);">'kind'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'text'</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>                        </span><span class="token" style="color: rgb(102, 153, 0);">'text'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'This is an example widget. Please see the doc'</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>                    </span><span class="token" style="color: rgb(153, 153, 153);">}</span><span>
</span><span>                </span><span class="token" style="color: rgb(153, 153, 153);">}</span><span>
</span><span>            </span><span class="token" style="color: rgb(153, 153, 153);">}</span><span>
</span><span>        </span><span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>encode</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(102, 153, 0);">'utf-8'</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>    </span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>    s</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>sendall</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(102, 153, 0);">b'\0'</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span> </span><span class="token" style="color: slategray;"># null-byte -&gt; end of message</span><span>
</span><span>    s</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>sendall</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span>json</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>dumps</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(153, 153, 153);">{</span><span>
</span><span>        </span><span class="token" style="color: rgb(102, 153, 0);">'kind'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'update_doc'</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>        </span><span class="token" style="color: rgb(102, 153, 0);">'doc'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> doc</span><span class="token" style="color: rgb(153, 153, 153);">,</span><span>
</span><span>    </span><span class="token" style="color: rgb(153, 153, 153);">}</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>encode</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(102, 153, 0);">'utf-8'</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>    s</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>sendall</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(102, 153, 0);">b'\0'</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span> </span><span class="token" style="color: slategray;"># null-byte -&gt; end of message</span><span>
</span><span>    </span><span class="token" style="color: rgb(102, 153, 0);">buffer</span><span> </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">bytes</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>    </span><span class="token" style="color: rgb(0, 119, 170);">while</span><span> </span><span class="token" style="color: rgb(153, 0, 85);">True</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span>
</span><span>        received </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span><span> s</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>recv</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(153, 0, 85);">1</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>        </span><span class="token" style="color: rgb(0, 119, 170);">if</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">len</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span>received</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span> </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">==</span><span> </span><span class="token" style="color: rgb(153, 0, 85);">0</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span>
</span><span>            </span><span class="token" style="color: rgb(0, 119, 170);">print</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(102, 153, 0);">'disconnected'</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>            </span><span class="token" style="color: rgb(0, 119, 170);">break</span><span>
</span><span>        </span><span class="token" style="color: rgb(0, 119, 170);">if</span><span> received </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">==</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">b'\0'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span>
</span><span>            </span><span class="token" style="color: rgb(0, 119, 170);">print</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(102, 153, 0);">buffer</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>            s</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>sendall</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span>json</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>dumps</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(153, 153, 153);">{</span><span class="token" style="color: rgb(102, 153, 0);">'kind'</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">'keepalive'</span><span class="token" style="color: rgb(153, 153, 153);">}</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>encode</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(102, 153, 0);">'utf-8'</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>            s</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span>sendall</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(102, 153, 0);">b'\0'</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span> </span><span class="token" style="color: slategray;"># null-byte -&gt; end of message</span><span>
</span><span>            </span><span class="token" style="color: rgb(102, 153, 0);">buffer</span><span> </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span><span> </span><span class="token" style="color: rgb(102, 153, 0);">bytes</span><span class="token" style="color: rgb(153, 153, 153);">(</span><span class="token" style="color: rgb(153, 153, 153);">)</span><span>
</span><span>        </span><span class="token" style="color: rgb(0, 119, 170);">else</span><span class="token" style="color: rgb(153, 153, 153);">:</span><span>
</span><span>            </span><span class="token" style="color: rgb(102, 153, 0);">buffer</span><span> </span><span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">+=</span><span> received
</span></code></div></pre></div><h2>Widget</h2><div style="display: grid; grid-template-columns: min-content auto; gap: 1em;"><div class="widgets" style="display: grid; grid-template-columns: unset; grid-auto-columns: 6em; grid-template-rows: min-content;"><div class="widget" style="grid-area: span 4 / span 2;"><div class="title">Example widget</div><div class="actions"><a href="http://192.168.100.13:2000/doc/Example%20widget/0">doc</a><span>|</span><a href="http://192.168.100.13:2000/widget/Example%20widget/0">max</a></div><div class="content"><div>This is an example widget. Please see the doc</div></div></div></div><div style="overflow-x: auto;"><pre>{
  "title": "Example widget",
  "group": "auxiliary",
  "width": 2,
  "height": 2,
  "content": {
    "kind": "text",
    "text": "This is an example widget. Please see the doc"
  }
}</pre></div></div></div>
    <script type="text/javascript">
      window.global ||= window;
    </script>
    
  

</body></html>